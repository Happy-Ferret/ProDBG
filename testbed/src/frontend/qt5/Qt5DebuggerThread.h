#pragma once

#include <QObject>
#include <QTimer>
#include <ProDBGAPI.h>

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct PDDebugPlugin;

namespace prodbg
{

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

class Qt5DebuggerThread : public QObject
{
	Q_OBJECT

public:
	Qt5DebuggerThread(const char* executable);
	PDDebugState getDebugState(void** data);

public slots:
    void start();
	void update();
 
signals:
    void finished();
	void callUIthread();

private:

	PDDebugPlugin* m_debuggerPlugin;
	const char* m_executable;
	void* m_pluginData;
	QTimer m_timer;
};

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}

