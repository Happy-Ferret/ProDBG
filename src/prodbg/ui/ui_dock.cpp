#include "ui_dock.h"
#include "core/alloc.h"
//#include <foundation/array.h>

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//const float g_sizerSize = 4.0f; // TODO: Move to settings
//const float g_splitPercentage = 0.5;	// TODO: Move to settings. Default split in middle (50/50)

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

UIDockingGrid* UIDock_createGrid(Rect rect)
{
	UIDockingGrid* grid = (UIDockingGrid*)alloc_zero(sizeof(UIDockingGrid));
	grid->rect = rect;

	return grid;
}

/*

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// This will check if we haven't attached any view to the dock we just set it

static bool checkFirstAttach(UIDock* dock, ViewPluginInstance* instance)
{
	if (dock->currentView.viewInstance)
		return false;

	dock->currentView.viewInstance = instance;
	dock->currentView.rect = dock->rect;

	return true;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void UIDock_dockLeft(UIDock* dock, ViewPluginInstance* instance)
{
	if (checkFirstAttach(dock, instance))
		return;

	Rect rect = dock->currentView.rect;

	// TODO: Support non-even split 
	//

	rect.width /= 2;

	// Push current window forward 

	dock->currentView.y += rect.w;
	dock->currentView.width = rect.width;
	                                
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

UIDockStatus UIDock_dockRight(UIDock* dock, ViewPluginInstance* instance)
{

	return UIDockStatus_ok;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

UIDockStatus UIDock_dockBottom(UIDock* dock, ViewPluginInstance* instance)
{

	return UIDockStatus_ok;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

UIDockStatus UIDock_dockTop(UIDock* dock, ViewPluginInstance* instance)
{

	return UIDockStatus_ok;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void UIDock_splitHorzUp(UIDock* dock, ViewPluginInstance* instance)
{



}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

UIDockStatus UIDock_splitHorzDow(UIDock* dock, ViewPluginInstance* instance)
{

	return UIDockStatus_ok;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

UIDockStatus UIDock_splitVertRight(UIDock* dock, ViewPluginInstance* instance)
{

	return UIDockStatus_ok;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

UIDockStatus UIDock_splitVertLeft(UIDock* dock, ViewPluginInstance* instance)
{

	return UIDockStatus_ok;
}

*/

